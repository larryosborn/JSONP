(function(){var e,n,r,t,o,d,a,u;r=function(e){return window.document.createElement(e)},t=window.encodeURIComponent,a=Math.random,e=function(e){var t,d,a,l,c,i;if(e=e?e:{},c={data:e.data||{},error:e.error||o,success:e.success||o,beforeSend:e.beforeSend||o,complete:e.complete||o,url:e.url||""},c.computedUrl=n(c),0===c.url.length)throw new Error("MissingUrl");return a=!1,c.beforeSend({},c)!==!1?(d=e.callbackName||"callback",t=c.url.indexOf(d+"=")<0?c.data[e.callbackName||"callback"]="jsonp_"+u(15):c.url.match(new RegExp(d+"=([^&|$]+)"))[1],window[t]=function(e){c.success(e,c),c.complete(e,c);try{return delete window[t]}catch(n){return void(window[t]=void 0)}},i=r("script"),i.src=n(c),i.async=!0,i.onerror=function(e){return c.error({url:i.src,event:e}),c.complete({url:i.src,event:e},c)},i.onload=i.onreadystatechange=function(){return a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(a=!0,i.onload=i.onreadystatechange=null,i&&i.parentNode&&i.parentNode.removeChild(i),i=null)},l=l||window.document.getElementsByTagName("head")[0]||window.document.documentElement,l.insertBefore(i,l.firstChild)):void 0},o=function(){return void 0},n=function(e){var n;return n=e.url,n+=e.url.indexOf("?")<0?"?":"&",n+=d(e.data)},u=function(e){var n;for(n="";n.length<e;)n+=a().toString(36)[2];return n},d=function(e){var n,r,o;n=[];for(r in e)o=e[r],n.push(t(r)+"="+t(o));return n.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:this.JSONP=e}).call(this);